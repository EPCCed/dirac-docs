
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../hardware/">
      
      
        <link rel="next" href="../data/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.19">
    
    
      
        <title>Connecting to Tursa - DiRAC Extreme Scaling User Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#connecting-to-tursa" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DiRAC Extreme Scaling User Documentation" class="md-header__button md-logo" aria-label="DiRAC Extreme Scaling User Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DiRAC Extreme Scaling User Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Connecting to Tursa
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/EPCCed/dirac-docs.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    EPCCed/dirac-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DiRAC Extreme Scaling User Documentation" class="md-nav__button md-logo" aria-label="DiRAC Extreme Scaling User Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    DiRAC Extreme Scaling User Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EPCCed/dirac-docs.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    EPCCed/dirac-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tursa User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tursa User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardware
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Connecting to Tursa
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Connecting to Tursa
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#command-line-terminal" class="md-nav__link">
    <span class="md-ellipsis">
      Command line terminal
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command line terminal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linux" class="md-nav__link">
    <span class="md-ellipsis">
      Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macos" class="md-nav__link">
    <span class="md-ellipsis">
      MacOS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    <span class="md-ellipsis">
      Windows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      Access credentials
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Access credentials">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssh-key-pairs" class="md-nav__link">
    <span class="md-ellipsis">
      SSH Key Pairs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload-public-part-of-key-pair-to-safe" class="md-nav__link">
    <span class="md-ellipsis">
      Upload public part of key pair to SAFE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mfa-time-based-one-time-passcode-totp" class="md-nav__link">
    <span class="md-ellipsis">
      MFA Time-based one-time passcode (TOTP)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MFA Time-based one-time passcode (TOTP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-login-from-a-new-account-password-required" class="md-nav__link">
    <span class="md-ellipsis">
      First login from a new account: password required
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-clients" class="md-nav__link">
    <span class="md-ellipsis">
      SSH Clients
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SSH Clients">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logging-in" class="md-nav__link">
    <span class="md-ellipsis">
      Logging in
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-keys" class="md-nav__link">
    <span class="md-ellipsis">
      Host Keys
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Host Keys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tursadiracedacuk" class="md-nav__link">
    <span class="md-ellipsis">
      tursa.dirac.ed.ac.uk
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-access-more-convenient-using-the-ssh-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      Making access more convenient using the SSH configuration file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-debugging-tips" class="md-nav__link">
    <span class="md-ellipsis">
      SSH debugging tips
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SSH debugging tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-the-usertursadiracedacuk-syntax-rather-than-l-user-tursadiracedacuk" class="md-nav__link">
    <span class="md-ellipsis">
      Use the user@tursa.dirac.ed.ac.uk syntax rather than -l user tursa.dirac.ed.ac.uk
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-you-connect-to-the-login-node" class="md-nav__link">
    <span class="md-ellipsis">
      Can you connect to the login node?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#password" class="md-nav__link">
    <span class="md-ellipsis">
      Password
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-key" class="md-nav__link">
    <span class="md-ellipsis">
      SSH key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-verbose-output" class="md-nav__link">
    <span class="md-ellipsis">
      SSH verbose output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Management and transfer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw-environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running jobs on Tursa
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#command-line-terminal" class="md-nav__link">
    <span class="md-ellipsis">
      Command line terminal
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command line terminal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linux" class="md-nav__link">
    <span class="md-ellipsis">
      Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macos" class="md-nav__link">
    <span class="md-ellipsis">
      MacOS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    <span class="md-ellipsis">
      Windows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      Access credentials
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Access credentials">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssh-key-pairs" class="md-nav__link">
    <span class="md-ellipsis">
      SSH Key Pairs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload-public-part-of-key-pair-to-safe" class="md-nav__link">
    <span class="md-ellipsis">
      Upload public part of key pair to SAFE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mfa-time-based-one-time-passcode-totp" class="md-nav__link">
    <span class="md-ellipsis">
      MFA Time-based one-time passcode (TOTP)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MFA Time-based one-time passcode (TOTP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-login-from-a-new-account-password-required" class="md-nav__link">
    <span class="md-ellipsis">
      First login from a new account: password required
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-clients" class="md-nav__link">
    <span class="md-ellipsis">
      SSH Clients
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SSH Clients">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logging-in" class="md-nav__link">
    <span class="md-ellipsis">
      Logging in
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-keys" class="md-nav__link">
    <span class="md-ellipsis">
      Host Keys
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Host Keys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tursadiracedacuk" class="md-nav__link">
    <span class="md-ellipsis">
      tursa.dirac.ed.ac.uk
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-access-more-convenient-using-the-ssh-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      Making access more convenient using the SSH configuration file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-debugging-tips" class="md-nav__link">
    <span class="md-ellipsis">
      SSH debugging tips
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SSH debugging tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-the-usertursadiracedacuk-syntax-rather-than-l-user-tursadiracedacuk" class="md-nav__link">
    <span class="md-ellipsis">
      Use the user@tursa.dirac.ed.ac.uk syntax rather than -l user tursa.dirac.ed.ac.uk
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-you-connect-to-the-login-node" class="md-nav__link">
    <span class="md-ellipsis">
      Can you connect to the login node?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#password" class="md-nav__link">
    <span class="md-ellipsis">
      Password
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-key" class="md-nav__link">
    <span class="md-ellipsis">
      SSH key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-verbose-output" class="md-nav__link">
    <span class="md-ellipsis">
      SSH verbose output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="connecting-to-tursa">Connecting to Tursa</h1>
<p>On the Tursa system, interactive access can be achieved via SSH, either directly from a command line terminal or using an SSH client. In addition data can be transferred to and from the Tursa system using
<code>scp</code> from the command line or by using a file transfer client.</p>
<p>This section covers the basic connection methods.</p>
<p>Before following the process below, we assume you have setup an account on Tursa through the DiRAC SAFE. Documentation on how to do this can be
found at:</p>
<ul>
<li><a href="https://epcced.github.io/safe-docs/safe-for-users/">SAFE Guide for Users</a></li>
</ul>
<h2 id="command-line-terminal">Command line terminal</h2>
<h3 id="linux">Linux</h3>
<p>Linux distributions come installed with a terminal application that can be used for SSH access to the login nodes. Linux users will have different terminals depending on their distribution and window manager (e.g. GNOME Terminal in GNOME, Konsole in KDE). Consult your Linux distribution's documentation for details on how to load a terminal.</p>
<h3 id="macos">MacOS</h3>
<p>MacOS users can use the Terminal application, located in the Utilities folder within the Applications folder.</p>
<h3 id="windows">Windows</h3>
<p>A typical Windows installation will not include a terminal client, though there are various clients available. We recommend all our Windows users to download and install MobaXterm to access Tursa. It is very easy to use and includes an integrated X server with SSH client to run any graphical applications on Tursa.</p>
<p>You can download MobaXterm Home Edition (Installer Edition) from the following link:</p>
<ul>
<li><a href="http://mobaxterm.mobatek.net/download-home-edition.html">Install MobaXterm</a></li>
</ul>
<p>Double-click the downloaded Microsoft Installer file (.msi), and the Windows wizard will automatically guides you through the installation process. Note, you might need to have administrator rights to install on
some Windows OS. Also make sure to check whether Windows Firewall hasn't blocked any features of this program after installation.</p>
<p>Start MobaXterm and then click "Start local terminal"</p>
<div class="admonition tips">
<p class="admonition-title">Tips</p>
<ul>
<li>
<p>If you download the .zip file rather than the .msi, make sure you unzip before attempting to run the installer.</p>
</li>
<li>
<p>If you are using a "managed desktop" machine, so do not have admin rights, you can use the <a href="https://mobaxterm.mobatek.net/download-home-edition.html">Portable edition of MobaXterm</a> which doesn't need install privilages.</p>
</li>
<li>
<p>If this is your first time using MobaXterm, check that a permanent /home directory has been set up (or all saved info will be lost from session to session). Go to "Settings" -&gt; "Configuration"-&gt; check path to "Persistent home directory" is set and make sure path is "private" if prompted.</p>
</li>
<li>
<p>Any ssh key generated in MobaXterm will, by default, be stored in the permanent /home directory (see above) i.e. if your /home directory is <code>_MyDocuments_\MobaXterm\home</code> then within that folder you will find <code>_MyDocuments_\MobaXterm\home\.ssh</code> with your keys.  This folder will be 'hidden' by default so you may need to tick 'Hidden items' under 'View' in Windows Explorer to see it.</p>
</li>
<li>
<p>MobaXterm also allows you to set up ssh sessions with the username, login host and key details saved.  You are welcome to use this, rather than using the "Local terminal" but we are not able to assist with debugging connection issues if you choose this method.  We recommend sticking to command line terminal access.</p>
</li>
</ul>
</div>
<h2 id="access-credentials">Access credentials</h2>
<p>To access Tursa, you need to use two credentials:</p>
<ul>
<li>An SSH key pair protected by a passphrase and a Time-based One Time Passcode (TOTP)</li>
</ul>
<p>You can find more detailed instructions on how to set up your credentials to access Tursa from Windows, macOS and Linux below.</p>
<h3 id="ssh-key-pairs">SSH Key Pairs</h3>
<p>You will need to generate an SSH key pair protected by a passphrase to access Tursa.</p>
<p>Using a <a href="#command-line-terminal">terminal</a> (the command line), set up a key pair that contains
your e-mail address and enter a passphrase you will use to unlock the
key:</p>
<pre><code>$ ssh-keygen -t rsa -C "your@email.com"
...
-bash-4.1$ ssh-keygen -t rsa -C "your@email.com"
Generating public/private rsa key pair.
Enter file in which to save the key (/Home/user/.ssh/id_rsa): [Enter]
Enter passphrase (empty for no passphrase): [Passphrase]
Enter same passphrase again: [Passphrase]
Your identification has been saved in /Home/user/.ssh/id_rsa.
Your public key has been saved in /Home/user/.ssh/id_rsa.pub.
The key fingerprint is:
03:d4:c4:6d:58:0a:e2:4a:f8:73:9a:e8:e3:07:16:c8 your@email.com
The key's randomart image is:
+--[ RSA 2048]----+
|    . ...+o++++. |
| . . . =o..      |
|+ . . .......o o |
|oE .   .         |
|o =     .   S    |
|.    +.+     .   |
|.  oo            |
|.  .             |
| ..              |
+-----------------+
</code></pre>
<p>(remember to replace "your@email.com" with your e-mail address).</p>
<h3 id="upload-public-part-of-key-pair-to-safe">Upload public part of key pair to SAFE</h3>
<p>You should now upload the public part of your SSH key pair to the SAFE
by following the instructions at:</p>
<p><a href="https://safe.epcc.ed.ac.uk/dirac">Login to SAFE</a>. Then:</p>
<ol>
<li>Go to the Menu <em>Login accounts</em> and select the Tursa account you
     want to add the SSH key to</li>
<li>On the subsequent Login account details page click the <em>Add
     Credential</em> button</li>
<li>Select <em>SSH public key</em> as the Credential Type and click <em>Next</em></li>
<li>Either copy and paste the public part of your SSH key into the
     <em>SSH Public key</em> box or use the button to select the public key
     file on your computer.</li>
<li>Click <em>Add</em> to associate the public SSH key part with your account</li>
</ol>
<p>Once you have done this, your SSH key will be added to your Tursa account.</p>
<p>Remember, you will need to use both an SSH key and TOTP to log into Tursa so you will also need to setup your TOTP token before you can log into Tursa. We cover this next.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to connect to Tursa from more than one machine, e.g. from your home laptop as well as your work laptop, you should generate an ssh key on each machine, and add each of the public keys into SAFE.  </p>
</div>
<h3 id="mfa-time-based-one-time-passcode-totp">MFA Time-based one-time passcode (TOTP)</h3>
<p>You will need to use both an SSH key and time-based one-time passcode to log into Tursa so you will
also need to <a href="https://epcced.github.io/safe-docs/safe-for-users/#how-to-turn-on-mfa-on-your-machine-account">set up a method for generating a TOTP code</a> before you can log into Tursa. </p>
<h4 id="first-login-from-a-new-account-password-required">First login from a new account: password required</h4>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>You will <strong>not</strong> use your password when logging on to Tursa after the first login for a new account.</p>
</div>
<p>As an additional security measure, you will also need to use a password from SAFE for your first login to Tursa
with a new account. When you log into Tursa for the first time with a new account, you will be prompted to change
your initial password. This is a three step process:</p>
<ol>
<li>When promoted to enter your <em>ldap password</em>: Enter the password  which you <a href="https://epcced.github.io/safe-docs/safe-for-users/#how-can-i-pick-up-my-password-for-the-service-machine">retrieve from SAFE</a></li>
<li>When prompted to enter your new password: type in a new password</li>
<li>When prompted to re-enter the new password: re-enter the new password</li>
</ol>
<p>Your password has now been changed. You will no longer need this password to log into Tursa from this point
forwards, you will use your SSH key and TOTP as described above.</p>
<h2 id="ssh-clients">SSH Clients</h2>
<p>Interaction with Tursa is done remotely, over an encrypted
communication channel, Secure Shell version 2 (SSH-2). This allows
command-line access to one of the login nodes of a Tursa, from which
you can run commands or use a command-line text editor to edit files.
SSH can also be used to run graphical programs such as GUI text editors
and debuggers when used in conjunction with an X client.</p>
<h3 id="logging-in">Logging in</h3>
<p>You can use the following command from the <a href="#command-line-terminal">terminal</a> window to login into
Tursa:</p>
<pre><code>ssh username@tursa.dirac.ed.ac.uk
</code></pre>
<p>You will first be prompted for the passphrase associated with your SSH key pair (if it is not already added to a local SSH Agent) and then for your TOTP. </p>
<p>You need to enter both credentials correctly to be able to access Tursa.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If your SSH key pair is not stored in the default location (usually
<code>~/.ssh/id_rsa</code>) on your local system, you may need to specify the path
to the private part of the key wih the <code>-i</code> option to <code>ssh</code>. For
example, if your key is in a file called <code>keys/id_rsa_Tursa</code> you would
use the command <code>ssh -i keys/id_rsa_Tursa
username@login.tursa.ac.uk</code> to log in.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When you first log into Tursa, you will be prompted to change your
initial password. This is a three step process:</p>
<ol>
<li>When promoted to enter your <em>ldap password</em>: Re-enter the password
    you retrieved from SAFE</li>
<li>When prompted to enter your new password: type in a new password</li>
<li>When prompted to re-enter the new password: re-enter the new
    password</li>
</ol>
<p>Your password has now been changed</p>
</div>
<h2 id="host-keys">Host Keys</h2>
<p>Adding the host keys to your SSH configuration file provides an extra level of security for your connections to Tursa. The host keys are checked against the login nodes when you login to Tursa and if the remote server key does not match the one in the configuration file, the connection will be refused. This provides protection against potential malicious servers masquerading as the Tursa login nodes.</p>
<h3 id="tursadiracedacuk">tursa.dirac.ed.ac.uk</h3>
<div class="highlight"><pre><span></span><code>tursa.dirac.ed.ac.uk ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDFniRfqDM6hfnwVTQgBw6H2k+O2sM57gaTjmg7TTewrzidPLRFI8Uojl0hHljS9naSxvpyVTJTzOR5/bDtryemqiNlMBsMTCl6posQPo8tZsw9vYYpZ1NLxtbrR7fnuczeXanzIO0E/bVSSbNnydykmVj2f/jX4PXBDL6T0RbHzjr7IQG0N0HVbrj7X0izlOhinMh0mfWO6h/DuJ0HWhaXPCiVsFiFKyjhs8YnLmaBSQMOe33EZaOOiDYiLXxctJKsIOsiW1VVveBYKSbxT0pUa7WQVQI1wPTtzJlifjv3RMb5KtQypWfSwTMGBytWYa/GlkemWefRewM1WnbG5P2w59DkCIR1O551ggGxNF4By+FMs2xW04GNi6WMikpRmyPKkHPVLap+2Mkj37S0nz0AiaMPDP3D8Bu0pAj+c44A6KL81ifybZUn8GGB9SRtquOYhIxyi21zmdykyoyK2oe8JcJ6B+DBI65uqoWQh1BziLePYRXh2H1WAVQPO7tcrxU=

tursa.dirac.ed.ac.uk ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBLWSJYM8B0SlKQzvAyGZth4Balkgsxef09MdjJ8JGG31V4gJCrsARqQcgk/0wc2vyjC5SKMKmUZLPBn0AOO8gSE=

tursa.dirac.ed.ac.uk ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIwUG93CzIVADtlbHH9aLAyig3w3605XKE3rumMjBqt4
</code></pre></div>
<p>Host key verification can fail if this key is out of date, a problem which can be fixed by removing the offending entry in <code>~/.ssh/known_hosts</code> and replacing it with the new key published here.  We recommend users should check this page for any key updates and not just accept a new key from the server without confirmation.</p>
<h2 id="making-access-more-convenient-using-the-ssh-configuration-file">Making access more convenient using the SSH configuration file</h2>
<p>Typing in the full command to login or transfer data to Tursa can
become tedious as it often has to be repeated many times. You can use
the SSH configuration file, usually located on your local machine at
<code>.ssh/config</code> to make things a bit more convenient.</p>
<p>Each remote site (or group of sites) can have an entry in this file
which may look something like:</p>
<pre><code>Host tursa
  HostName tursa.dirac.ed.ac.uk
  User username
</code></pre>
<p>(remember to replace <code>username</code> with your actual username!).</p>
<p>The <code>Host tursa</code> line defines a short name for the entry. In this
case, instead of typing <code>ssh username@tursa.dirac.ed.ac.uk</code> to access the
Tursa login nodes, you could use <code>ssh tursa</code> instead. The remaining
lines define the options for the <code>tursa</code> host.</p>
<ul>
<li><code>Hostname tursa.dirac.ed.ac.uk</code> - defines the full address of the
     host</li>
<li><code>User username</code> - defines the username to use by default for this
     host (replace <code>username</code> with your own username on the remote
     host)</li>
</ul>
<p>Now you can use SSH to access Tursa without needing to enter your
username or the full hostname every time:</p>
<pre><code>$ ssh tursa
</code></pre>
<p>You can set up as many of these entries as you need in your local
configuration file. Other options are available. See the ssh_config man
page (or <code>man ssh_config</code> on any machine with SSH installed) for a
description of the SSH configuration file. You may find the
<code>IdentityFile</code> option useful if you have to manage multiple SSH key
pairs for different systems as this allows you to specify which SSH key
to use for each system.</p>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>There is a known bug with Windows ssh-agent. If you get the error
message: <code>Warning: agent returned different signature type ssh-rsa
(expected rsa-sha2-512)</code>, you will need to either specify the path to
your ssh key in the command line (using the <code>-i</code> option as described
above) or add the path to your SSH config file by using the
<code>IdentityFile</code> option.</p>
</div>
<h2 id="ssh-debugging-tips">SSH debugging tips</h2>
<p>If you find you are unable to connect via SSH there are a number of ways
you can try and diagnose the issue. Some of these are collected below -
if you are having difficulties connecting we suggest trying these before
contacting the Tursa service desk.</p>
<h3 id="use-the-usertursadiracedacuk-syntax-rather-than-l-user-tursadiracedacuk">Use the <code>user@tursa.dirac.ed.ac.uk</code> syntax rather than <code>-l user tursa.dirac.ed.ac.uk</code></h3>
<p>We have seen a number of instances where people using the syntax</p>
<div class="highlight"><pre><span></span><code>ssh -l user tursa.dirac.ed.ac.uk
</code></pre></div>
<p>have not been able to connect properly and get prompted for a password many
times. We have found that using the alternative syntax:</p>
<div class="highlight"><pre><span></span><code>ssh user@tursa.dirac.ed.ac.uk
</code></pre></div>
<p>works more reliably. If you are using the <code>-l user</code> option to connect and 
are seeing issues, then try using <code>user@tursa.dirac.ed.ac.uk</code> instead.</p>
<h3 id="can-you-connect-to-the-login-node">Can you connect to the login node?</h3>
<p>Try the command <code>ping -c 3 tursa.dirac.ed.ac.uk</code>. If you successfully
connect to the login node, the output should include:</p>
<pre><code>--- tursa.dirac.ed.ac.uk ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 38ms
</code></pre>
<p>(the ping time '38ms' is not important). If not all packets are received
there could be a problem with your internet connection, or the login
node could be unavailable.</p>
<h3 id="password">Password</h3>
<p>If you are having trouble entering your password consider using a
password manager, from which you can copy and paste it. This will also
help you generate a secure password. If you need to reset your password,
instructions for doing so can be found in <a href="https://epcced.github.io/safe-docs/safe-for-users/">the SAFE documentation</a></p>
<p>Windows users please note that <code>Ctrl+V</code> does not work to paste in to
PuTTY, MobaXterm, or PowerShell. Instead use <code>Shift+Ins</code> to paste.
Alternatively, right-click and select 'Paste' in PuTTY and MobaXterm, or
simply right-click to paste in PowerShell.</p>
<h3 id="ssh-key">SSH key</h3>
<p>If you get the error message <code>Permission denied (publickey)</code> this can
indicate a problem with your SSH key. Some things to check:</p>
<ul>
<li>
<p>Have you uploaded the key to SAFE? Please note that if the same
     key is reuploaded SAFE will not map the "new" key to Tursa. If
     for some reason this is required, please delete the key first,
     then reupload.</p>
</li>
<li>
<p>Is ssh using the correct key? You can check which keys are being
     found and offered by ssh using <code>ssh -vvv</code>. If your private key has
     a non-default name you can use the <code>-i</code> flag to provide it to ssh,
     i.e. <code>ssh -i path/to/key username@tursa.dirac.ed.ac.uk</code>.</p>
</li>
<li>
<p>Are you entering the passphrase correctly? You will be asked for
     your private key's passphrase first. If you enter it incorrectly
     you will usually be asked to enter it again, and usually up to
     three times in total, after which ssh will fail with <code>Permission
     denied (publickey)</code>. If you would like to confirm your passphrase
     without attempting to connect, you can use <code>ssh-keygen -y -f
     /path/to/private/key</code>. If successful, this command will print the
     corresponding public key. You can also use this to check it is the
     one uploaded to SAFE.</p>
</li>
<li>
<p>Are permissions correct on the ssh key? One common issue is that
     the permissions are incorrect on the either the key file, or the
     directory it's contained in. On Linux/MacOS for example, if your
     private keys are held in <code>~/.ssh/</code> you can check this with <code>ls -al
     ~/.ssh</code>. This should give something similar to the following
     output:</p>
<pre><code> $ ls -al ~/.ssh/
 drwx------.  2 user group    48 Jul 15 20:24 .
 drwx------. 12 user group  4096 Oct 13 12:11 ..
 -rw-------.  1 user group   113 Jul 15 20:23 authorized_keys
 -rw-------.  1 user group 12686 Jul 15 20:23 id_rsa
 -rw-r--r--.  1 user group  2785 Jul 15 20:23 id_rsa.pub
 -rw-r--r--.  1 user group  1967 Oct 13 14:11 known_hosts
</code></pre>
<p>The important section here is the string of letters and dashes at
 the start, for the lines ending in <code>.</code>, <code>id_rsa</code>, and
 <code>id_rsa.pub</code>, which indicate permissions on the containing
 directory, private key, and public key respectively. If your
 permissions are not correct, they can be set with <code>chmod</code>. Consult
 the table below for the relevant <code>chmod</code> command. On Windows,
 permissions are handled differently but can be set by
 right-clicking on the file and selecting Properties &gt; Security &gt;
 Advanced. The user, SYSTEM, and Administrators should have <code>Full
 control</code>, and no other permissions should exist for both public
 and private key files, and the containing folder.</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Target</th>
<th>Permissions</th>
<th><code>chmod</code> Code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Directory</td>
<td><code>drwx------</code></td>
<td>700</td>
</tr>
<tr>
<td>Private Key</td>
<td><code>-rw-------</code></td>
<td>600</td>
</tr>
<tr>
<td>Public Key</td>
<td><code>-rw-r--r--</code></td>
<td>644</td>
</tr>
</tbody>
</table>
<p><code>chmod</code> can be used to set permissions on the target in the following
way: <code>chmod &lt;code&gt; &lt;target&gt;</code>. So for example to set correct permissions
on the private key file <code>id_rsa_Tursa</code> one would use the command
<code>chmod 600 id_rsa_Tursa</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Unix file permissions can be understood in the following way. There are
three groups that can have file permissions: (owning) <em>users</em>, (owning)
<em>groups</em>, and <em>others</em>. The available permissions are <em>read</em>, <em>write</em>,
and <em>execute</em>. The first character indicates whether the target is a
file <code>-</code>, or directory <code>d</code>. The next three characters indicate the
owning user's permissions. The first character is <code>r</code> if they have read
permission, <code>-</code> if they don't, the second character is <code>w</code> if they have
write permission, <code>-</code> if they don't, the third character is <code>x</code> if they
have execute permission, <code>-</code> if they don't. This pattern is then
repeated for <em>group</em>, and <em>other</em> permissions. For example the pattern
<code>-rw-r--r--</code> indicates that the owning user can read and write the file,
members of the owning group can read it, and anyone else can also read
it. The <code>chmod</code> codes are constructed by treating the user, group, and
owner permission strings as binary numbers, then converting them to
decimal. For example the permission string <code>-rwx------</code> becomes
<code>111 000 000</code> -&gt; <code>700</code>.</p>
</div>
<h3 id="ssh-verbose-output">SSH verbose output</h3>
<p>Verbose debugging output from <code>ssh</code> can be very useful for diagnosing
the issue. In particular, it can be used to distinguish between problems
with the SSH key and password - further details are given below. To
enable verbose output add the <code>-vvv</code> flag to your SSH command. For
example:</p>
<pre><code>ssh -vvv username@tursa.dirac.ed.ac.uk
</code></pre>
<p>The output is lengthy, but somewhere in there you should see lines
similar to the following:</p>
<pre><code>debug1: Next authentication method: keyboard-interactive
debug2: userauth_kbdint
debug3: send packet: type 50
debug2: we sent a keyboard-interactive packet, wait for reply
debug3: receive packet: type 60
debug2: input_userauth_info_req
debug2: input_userauth_info_req: num_prompts 1
Password:
debug3: send packet: type 61
debug3: receive packet: type 60
debug2: input_userauth_info_req
debug2: input_userauth_info_req: num_prompts 0
debug3: send packet: type 61
debug3: receive packet: type 51
Authenticated with partial success.
debug1: Authentications that can continue: publickey,password
</code></pre>
<p>If you do not see the <code>Password:</code> prompt you may have connection issues,
or there could be a problem with the Tursa login nodes. If you do not
see <code>Authenticated with partial success</code> it means your password was not
accepted. You will be asked to re-enter your password, usually two more
times before the connection will be rejected. Consider the suggestions
under <em>Password</em> above. If you <em>do</em> see <code>Authenticated with partial
success</code>, it means your password was accepted, and your SSH key will now
be checked.</p>
<p>You should next see something similiar to:</p>
<pre><code>debug1: Next authentication method: publickey
debug1: Offering public key: RSA SHA256:&lt;key_hash&gt; &lt;path_to_private_key&gt;
debug3: send_pubkey_test
debug3: send packet: type 50
debug2: we sent a publickey packet, wait for reply
debug3: receive packet: type 60
debug1: Server accepts key: pkalg rsa-sha2-512 blen 2071
debug2: input_userauth_pk_ok: fp SHA256:&lt;key_hash&gt;
debug3: sign_and_send_pubkey: RSA SHA256:&lt;key_hash&gt;
Enter passphrase for key '&lt;path_to_private_key&gt;':
debug3: send packet: type 50
debug3: receive packet: type 52
debug1: Authentication succeeded (publickey).
</code></pre>
<p>Most importantly, you can see which files ssh has checked for private
keys, and you can see if any key is accepted. The line <code>Authenticated
succeeded</code> indicates that the SSH key has been accepted. By default ssh
will go through a list of standard private key files, as well as any you
have specified with <code>-i</code> or a config file. This is fine, as long as one
of the files mentioned is the one that matches the public key uploaded
to SAFE.</p>
<p>If your SSH key passphrase is incorrect, you will be asked to try again
up to three times in total, before being disconnected with <code>Permission
denied (publickey)</code>. If you enter your passphrase correctly, but still
see this error message, please consider the advice under <em>SSH key</em>
above.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "navigation.top"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dd8806f2.min.js"></script>
      
    
  </body>
</html>
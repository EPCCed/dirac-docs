
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../data/">
      
      
        <link rel="next" href="../scheduler/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Software environment - DiRAC Extreme Scaling User Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#software-environment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DiRAC Extreme Scaling User Documentation" class="md-header__button md-logo" aria-label="DiRAC Extreme Scaling User Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DiRAC Extreme Scaling User Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Software environment
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/EPCCed/dirac-docs.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    EPCCed/dirac-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DiRAC Extreme Scaling User Documentation" class="md-nav__button md-logo" aria-label="DiRAC Extreme Scaling User Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DiRAC Extreme Scaling User Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EPCCed/dirac-docs.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    EPCCed/dirac-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentation overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tursa User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tursa User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connecting to Tursa
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Management and transfer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Software environment
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Software environment
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#using-the-module-command" class="md-nav__link">
    <span class="md-ellipsis">
      Using the module command
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using the module command">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#information-on-the-available-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Information on the available modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loading-removing-and-swapping-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Loading, removing and swapping modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#capturing-your-environment-for-reuse" class="md-nav__link">
    <span class="md-ellipsis">
      Capturing your environment for reuse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restoring-original-environment-module-purge-plus-reload" class="md-nav__link">
    <span class="md-ellipsis">
      Restoring original environment: module purge plus reload
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shell-environment-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Shell environment overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compiler-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Compiler environment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compiler environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gcc-gpu-toolchain" class="md-nav__link">
    <span class="md-ellipsis">
      GCC GPU toolchain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nvhpc-gpu-toolchain" class="md-nav__link">
    <span class="md-ellipsis">
      NVHPC GPU toolchain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gcc-cpu-toolchain" class="md-nav__link">
    <span class="md-ellipsis">
      GCC CPU toolchain
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-build-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Other build tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other build tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cmake" class="md-nav__link">
    <span class="md-ellipsis">
      cmake
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spack" class="md-nav__link">
    <span class="md-ellipsis">
      Spack
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scheduler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running jobs on Tursa
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../spack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spack on Tursa
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../profiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profiling
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#using-the-module-command" class="md-nav__link">
    <span class="md-ellipsis">
      Using the module command
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using the module command">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#information-on-the-available-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Information on the available modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loading-removing-and-swapping-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Loading, removing and swapping modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#capturing-your-environment-for-reuse" class="md-nav__link">
    <span class="md-ellipsis">
      Capturing your environment for reuse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restoring-original-environment-module-purge-plus-reload" class="md-nav__link">
    <span class="md-ellipsis">
      Restoring original environment: module purge plus reload
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shell-environment-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Shell environment overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compiler-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Compiler environment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compiler environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gcc-gpu-toolchain" class="md-nav__link">
    <span class="md-ellipsis">
      GCC GPU toolchain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nvhpc-gpu-toolchain" class="md-nav__link">
    <span class="md-ellipsis">
      NVHPC GPU toolchain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gcc-cpu-toolchain" class="md-nav__link">
    <span class="md-ellipsis">
      GCC CPU toolchain
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-build-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Other build tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other build tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cmake" class="md-nav__link">
    <span class="md-ellipsis">
      cmake
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spack" class="md-nav__link">
    <span class="md-ellipsis">
      Spack
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="software-environment">Software environment</h1>
<p>The software environment on Tursa is primarily controlled through the
<code>module</code> command. By loading and switching software modules you control
which software and versions are available to you.</p>
<div class="admonition information">
<p class="admonition-title">Information</p>
<p>A module is a self-contained description of a software package -- it
contains the settings required to run a software package and, usually,
encodes required dependencies on other software packages.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You may wish to consider using <a href="../spack/">Spack on Tursa</a> to manage
your software installations and to help you compile software.</p>
</div>
<p>By default, all users on Tursa start with the default software
environment loaded.</p>
<p>Software modules on Tursa are provided by both Eviden and by EPCC.</p>
<p>In this section, we provide:</p>
<ul>
<li>A brief overview of the <code>module</code> command</li>
<li>A brief description of how the <code>module</code> command manipulates your
     environment</li>
</ul>
<h2 id="using-the-module-command">Using the <code>module</code> command</h2>
<p>We only cover basic usage of the <code>module</code> command here. For full
documentation please see the <a href="http://linux.die.net/man/1/module">Linux manual page on
modules</a></p>
<p>The <code>module</code> command takes a subcommand to indicate what operation you
wish to perform. Common subcommands are:</p>
<ul>
<li><code>module list [name]</code> - List modules currently loaded in your
     environment, optionally filtered by <code>[name]</code></li>
<li><code>module avail [name]</code> - List modules available, optionally
     filtered by <code>[name]</code></li>
<li><code>module savelist</code> - List module collections available (usually
     used for accessing different programming environments)</li>
<li><code>module restore name</code> - Restore the module collection called
     <code>name</code> (usually used for setting up a programming environment)</li>
<li><code>module load name</code> - Load the module called <code>name</code> into your
     environment</li>
<li><code>module remove name</code> - Remove the module called <code>name</code> from your
     environment</li>
<li><code>module swap old new</code> - Swap module <code>new</code> for module <code>old</code> in your
     environment</li>
<li><code>module help name</code> - Show help information on module <code>name</code></li>
<li><code>module show name</code> - List what module <code>name</code> actually does to your
     environment</li>
</ul>
<p>These are described in more detail below.</p>
<h3 id="information-on-the-available-modules">Information on the available modules</h3>
<p>The <code>module list</code> command will give the names of the modules and their
versions you have presently loaded in your environment. By default, you
will have no modules loaded when you first log into Tursa</p>
<p>Finding out which software modules are available on the system is
performed using the <code>module avail</code> command. To list all software modules
available, use:</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module avail
---------------------------------------- /home/y07/shared/tursa-modules ----------------------------------------
cmake/3.27.4        openmpi/4.1.5                       ucx/1.15.0                       
cudnn/9.3.0-cuda12  openmpi/4.1.5-gcc9-cpu              ucx/1.15.0-gcc9-cpu              
gcc/9.3.0(default)  openmpi/4.1.5-gcc9-cuda12(default)  ucx/1.15.0-gcc9-cuda12(default)  
gcc/12.2.0          openmpi/4.1.5-gcc12-cpu             ucx/1.15.0-gcc12-cpu             
gdrcopy/2.5.1       openmpi/4.1.5-gcc12-cuda12          ucx/1.15.0-gcc12-cuda12          
nvhpc/23.5-nompi    setup-env                           

------------------------------- /mnt/lustre/tursafs1/apps/cuda-12.3-modulefiles --------------------------------
cuda/12.3  openmpi/4.1.5-cuda12.3  ucx/1.15.0-cuda12.3  

------------------------------ /mnt/lustre/tursafs1/apps/cuda-11.4.1-modulefiles -------------------------------
cuda/11.4.1  openmpi/4.1.1-cuda11.4.1  ucx/1.12.0-cuda11.4.1  

------------------------------------ /mnt/lustre/tursafs1/apps/modulefiles -------------------------------------
cuda/11.0.3  gcc/9.3.0(default)  module-info  null           openmpi/4.1.1  use.own      
dot          module-git          modules      openmpi/4.0.4  ucx/1.10.1     xpmem/2.6.5   
</code></pre></div>
<p>This will list all the names and versions of the modules available on
the service. Not all of them may work in your account though due to, for
example, licencing restrictions. You will notice that for many modules
we have more than one version, each of which is identified by a version
number. One of these versions is the default. As the service develops
the default version will change and old versions of software may be
deleted.</p>
<p>You can list all the modules of a particular type by providing an
argument to the <code>module avail</code> command. For example, to list all
available versions of the OpenMPI library, use:</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module avail openmpi
---------------------------------------- /home/y07/shared/tursa-modules ----------------------------------------
openmpi/4.1.5           openmpi/4.1.5-gcc9-cuda12(default)  openmpi/4.1.5-gcc12-cuda12  
openmpi/4.1.5-gcc9-cpu  openmpi/4.1.5-gcc12-cpu             

------------------------------- /mnt/lustre/tursafs1/apps/cuda-12.3-modulefiles --------------------------------
openmpi/4.1.5-cuda12.3  

------------------------------ /mnt/lustre/tursafs1/apps/cuda-11.4.1-modulefiles -------------------------------
openmpi/4.1.1-cuda11.4.1  

------------------------------------ /mnt/lustre/tursafs1/apps/modulefiles -------------------------------------
openmpi/4.0.4  openmpi/4.1.1  
</code></pre></div>
<p>The <code>module show</code> command reveals what operations the module actually
performs to change your environment when it is loaded. We provide a
brief overview of what the significance of these different settings mean
below. For example, for the default openmpi module:</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module show openmpi
-------------------------------------------------------------------
/home/y07/shared/tursa-modules/openmpi/4.1.5-gcc9-cuda12:

module-whatis   Sets up OpenMPI on your environment
setenv          MPI_ROOT        /mnt/lustre/tursafs1/apps/basestack/cuda-12.3/openmpi/4.1.5-cuda12.3-slurm
prepend-path    PATH /mnt/lustre/tursafs1/apps/basestack/cuda-12.3/openmpi/4.1.5-cuda12.3-slurm/bin
prepend-path    LD_LIBRARY_PATH /mnt/lustre/tursafs1/apps/basestack/cuda-12.3/openmpi/4.1.5-cuda12.3-slurm/lib
prepend-path    MANPATH /mnt/lustre/tursafs1/apps/basestack/cuda-12.3/openmpi/4.1.5-cuda12.3-slurm/share/man
module load     ucx/1.15.0-cuda12.3
setenv          OMPI_CC cc
setenv          OMPI_CXX        g++
setenv          OMPI_CFLAGS     -g -m64
setenv          OMPI_CXXFLAGS   -g -m64
setenv          OMPI_MCA_pml    ucx
setenv          OMPI_MCA_osc    ucx
setenv          OMPI_MCA_btl    ^openib
-------------------------------------------------------------------
</code></pre></div>
<h3 id="loading-removing-and-swapping-modules">Loading, removing and swapping modules</h3>
<p>To load a module to use the <code>module load</code> command. For example, to load
the default version of OpenMPI into your environment, use:</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module load openmpi

        UCX 1.15.0 compiled with cuda 12.3 loaded

        OpenMPI 4.1.5 with cuda-12.3 and UCX 1.15.0 loaded
</code></pre></div>
<p>Once you have done this, your environment will be setup to use the OpenMPI library.
The above command will load the default version of
OpenMPI. If you need a specific version of the software, you can
add more information:</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module load openmpi/4.1.5-gcc12-cuda12 
</code></pre></div>
<p>will load OpenMPI version 4.1.5 compiled with GCC 12.2 and CUDA 12.3 into your environment,
regardless of the default.</p>
<p>If you want to remove software from your environment, <code>module rm</code>
will remove a loaded module:</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module rm openmpi
</code></pre></div>
<p>will unload what ever version of <code>openmpi</code> (even if it is not the
default) you might have loaded.</p>
<p>There are many situations in which you might want to change the
presently loaded version to a different one, such as trying the latest
version which is not yet the default or using a legacy version to keep
compatibility with old data. This can be achieved most easily by using
<code>module swap oldmodule newmodule</code>.</p>
<p>Suppose you have loaded version <code>4.1.5-gcc9-cuda12</code> of <code>openmpi</code>, the following
command will change to version <code>4.1.5-gcc12-cuda12</code>:</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module swap openmpi openmpi/4.1.5-gcc12-cuda12
</code></pre></div>
<p>You did not need to specify the version of the loaded module in your
current environment as this can be inferred as it will be the only one
you have loaded.</p>
<h3 id="capturing-your-environment-for-reuse">Capturing your environment for reuse</h3>
<p>Sometimes it is useful to save the module environment that you are using
to compile a piece of code or execute a piece of software. This is saved
as a module collection. You can save a collection from your current
environment by executing:</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module save [collection_name]
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you do not specify the environment name, it is called <code>default</code>.</p>
</div>
<p>You can find the list of saved module environments by executing:</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module savelist
Named collection list:
 1) default
</code></pre></div>
<p>To list the modules in a collection, you can execute, e.g.,:</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module saveshow default
-------------------------------------------------------------------
/home/t01/t01/dc-user1/.module/default:

module use --append /mnt/lustre/tursafs1/apps/cuda-11.0.2-modulefiles
module use --append /mnt/lustre/tursafs1/apps/cuda-11.4.1-modulefiles
module use --append /mnt/lustre/tursafs1/apps/modulefiles
module load ucx/1.12.0-cuda11.4.1
module load openmpi/4.1.1-cuda11.4.1

-------------------------------------------------------------------
</code></pre></div>
<p>Note again that the details of the collection have been saved to the
home directory (the first line of output above). It is possible to save
a module collection with a fully qualified path, e.g.,</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module save /home/t01/t01/auser/my-module-collection
</code></pre></div>
<p>if you want to save to a specific file name.</p>
<p>To delete a module environment, you can execute:</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module saverm &lt;environment_name&gt;
</code></pre></div>
<h3 id="restoring-original-environment-module-purge-plus-reload">Restoring original environment: <code>module purge</code> plus reload</h3>
<p>Unlike some other HPC systems, you cannot restore the original module environment
with just the <code>module purge</code> command. You also need to reload the base environment
setup module, i.e.</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>purge
module<span class="w"> </span>load<span class="w"> </span>/home/y07/shared/tursa-modules/setup-env
</code></pre></div>
<h2 id="shell-environment-overview">Shell environment overview</h2>
<p>When you log in to Tursa, you are using the <em>bash</em> shell by default.
As any other software, the <em>bash</em> shell has loaded a set of environment
variables that can be listed by executing <code>printenv</code> or <code>export</code>.</p>
<p>The environment variables listed before are useful to define the
behaviour of the software you run. For instance, <code>OMP_NUM_THREADS</code>
define the number of threads.</p>
<p>To define an environment variable, you need to execute:</p>
<div class="highlight"><pre><span></span><code>export OMP_NUM_THREADS=4
</code></pre></div>
<p>Please note there are no blanks between the variable name, the
assignation symbol, and the value. If the value is a string, enclose the
string in double quotation marks.</p>
<p>You can show the value of a specific environment variable if you print
it:</p>
<div class="highlight"><pre><span></span><code>echo $OMP_NUM_THREADS
</code></pre></div>
<p>Do not forget the dollar symbol. To remove an environment variable, just
execute:</p>
<div class="highlight"><pre><span></span><code>unset OMP_NUM_THREADS
</code></pre></div>
<h2 id="compiler-environment">Compiler environment</h2>
<p>The system supports three different primary compiler environments for GPU nodes:</p>
<ul>
<li>GCC GPU toolchain: GCC 12.2.0, CUDA 12.3, OpenMPI 4.1.5</li>
<li>GCC GPU toolchain: GCC 9.3.0, CUDA 12.3, OpenMPI 4.1.5</li>
<li>NVHPC GPU toolchain: NVHPC 23.5 (CUDA 12.1), OpenMPI 4.1.5</li>
</ul>
<p>and two compiler environments for CPU nodes:</p>
<ul>
<li>GCC CPU toolchain: GCC 12.2.0, OpenMPI 4.1.5</li>
<li>GCC CPU toolchain: GCC 9.3.0, OpenMPI 4.1.5</li>
</ul>
<h3 id="gcc-gpu-toolchain">GCC GPU toolchain</h3>
<p>To compile on the system for GPU nodes using the GCC toolchain, you would typically load the required modules:</p>
<div class="highlight"><pre><span></span><code>module load gcc/12.2.0
module load cuda/12.3 
module load openmpi/4.1.5-gcc12-cuda12


module list

Currently Loaded Modulefiles:
 1) /mnt/lustre/tursafs1/home/y07/shared/tursa-modules/setup-env   3) cuda/12.3                 5) openmpi/4.1.5-gcc12-cuda12  
 2) gcc/12.2.0                                                     4) ucx/1.15.0-gcc12-cuda12        
</code></pre></div>
<p>Once you have loaded the modules, the standard OpenMPI compiler wrapper
scripts are available:</p>
<ul>
<li><code>mpicc</code></li>
<li><code>mpicxx</code></li>
<li><code>mpif90</code></li>
</ul>
<p>You can find more information on these scripts in the
<a href="https://www.open-mpi.org/doc/v4.1/">OpenMPI documentation</a>.</p>
<h3 id="nvhpc-gpu-toolchain">NVHPC GPU toolchain</h3>
<p>To compile on the system for GPU nodes using the NVHPC toolchain, you would typically load the required modules:</p>
<div class="highlight"><pre><span></span><code>module load gcc/12.2.0
module load nvhpc/23.5-nompi
module load openmpi/4.1.5-nvhpc235-cuda12

module list

Currently Loaded Modulefiles:
 1) /mnt/lustre/tursafs1/home/y07/shared/tursa-modules/setup-env   3) nvhpc/23.5-nompi          5) openmpi/4.1.5-nvhpc235-cuda12  
 2) gcc/12.2.0                                                     4) ucx/1.15.0-gcc12-cuda12 
</code></pre></div>
<p>Once you have loaded the modules, the standard OpenMPI compiler wrapper
scripts are available (for C and C++):</p>
<ul>
<li><code>mpicc</code></li>
<li><code>mpicxx</code></li>
<li><code>mpif90</code></li>
</ul>
<p>and the NVIDIA C, C++ and Fortran compilers are available as:</p>
<ul>
<li><code>nvc</code></li>
<li><code>nvc++</code></li>
<li><code>nvfortran</code></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Both the NVIDIA compilers and the MPI compiler wrapper scripts will use the GCC
compilers directly in the default configuration - this is often what you want. If
you want the compiler wrappers to call the NVIDIA compilers themselves rather than 
GCC directly, you would use:</p>
<div class="highlight"><pre><span></span><code>export OMPI_CC=nvc
export OMPI_CXX=nvc++
export OMPI_FC=nvfortran
</code></pre></div>
</div>
<h3 id="gcc-cpu-toolchain">GCC CPU toolchain</h3>
<p>To compile on the system for CPU nodes using the GCC toolchain, you would typically load the required modules:</p>
<div class="highlight"><pre><span></span><code>module load gcc/9.3.0
module load openmpi/4.1.5-gcc9-cpu

module list

Currently Loaded Modulefiles:
 1) /home/y07/shared/tursa-modules/setup-env   3) ucx/1.15.0              
 2) gcc/9.3.0(default)                         4) openmpi/4.1.5-gcc9-cpu  
</code></pre></div>
<p>Once you have loaded the modules, the standard OpenMPI compiler wrapper
scripts are available:</p>
<ul>
<li><code>mpicc</code></li>
<li><code>mpicxx</code></li>
<li><code>mpif90</code></li>
</ul>
<p>You can find more information on these scripts in the
<a href="https://www.open-mpi.org/doc/v4.1/">OpenMPI documentation</a>.</p>
<h2 id="other-build-tools">Other build tools</h2>
<h3 id="cmake">cmake</h3>
<p>CMake is available by using the commands:</p>
<div class="highlight"><pre><span></span><code>[dc-user1@tursa-login1 ~]$ module load cmake
</code></pre></div>
<h3 id="spack">Spack</h3>
<p>See the <a href="../spack/">Spack on Tursa</a> section for information on using the
<a href="https://spack.readthedocs.io">Spack</a> software package manager to install
and manage software.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "navigation.top"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>